#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__), *%w{ .. config })
$:.unshift File.join(File.dirname(__FILE__), *%w{ .. lib })

require 'boot'
require 'emission_scrapper'

case ARGV[0]
when "sync"
  from = ARGV[1] ? ARGV[1] : 10001
  to = ARGV[2] ? ARGV[2] : 20000
  EmissionScrapper.download(from, to)
when "scrap"
  EmissionStorer.start
when "export"
  EmissionCSV.call
else
  STDOUT.puts <<-EOF
Please provide command name

Usage:
  scrapper download
  scrapper scrap
  scrapper export
EOF
end

