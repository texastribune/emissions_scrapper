#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__), *%w{ .. config })
$:.unshift File.join(File.dirname(__FILE__), *%w{ .. lib })

require 'boot'
require 'emission_scrapper'

case ARGV[0]
when "download"
  from = ARGV[1] ? ARGV[1] : 10001
  to = ARGV[2] ? ARGV[2] : 20000
  EmissionScrapper.download(from, to)
when "scrap"
  EmissionStorer.start
when "export"
  if ARGV[1]
    EmissionCSV.call(ARGV[1])
  else
    EmissionCSV.call
  end
else
  STDOUT.puts <<-EOF
Please provide command name

Usage:
  scrapper download [from] [to]
  scrapper scrap
  scrapper export [short/full]
EOF
end

